<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
		<link rel="icon" type="image/x-icon" href="./assets/img/JavaScript-logo.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript Training</title>
		
		<!-- styles -->
		<link rel="stylesheet" href="./assets/css/reset.css">
		<link rel="stylesheet" href="./assets/css/reveal.css">
		<link rel="stylesheet" href="./assets/css/theme/black.css">
		<link rel="stylesheet" href="./assets/plugin/highlight/monokai.css">
		<link rel="stylesheet" href="./assets/css/internation.css">
		<link rel="stylesheet" href="./assets/css/global.css">
  </head>
  <body>
		<div class="reveal">
			<div class="menubar" id="menubar">
				<div class="dropdown">
					<input id="checkbox_toggle" type="checkbox">
					<label for="checkbox_toggle" data-i18n="chooselanguage">Choose language</label>
					<div class="langchooser">
						<label>
								<input type="radio" name="menulangradios" value="en" checked><span>English</span>
						</label>
						<label>
								<input type="radio" name="menulangradios" value="fr"><span>Français</span>
						</label>
					</div>
				</div>
			</div>
			<div class="slides">
				<section id="intro">
					<a href="./"><img src="./assets/img/JavaScript-logo.png" alt="logo" class="logo"></a>
					<h3 data-i18n="title">JavaScript Training</h3>
					<p>
						<a href="https://github.com/worldline/JS-Training" target="_blank">
							https://github.com/worldline/JS-Training
						</a>
					</p>
					<div class="langchooser flags">
						<label>
							<input type="radio" name="langradios" value="en" checked><img src="./assets/img/en.png">
						</label>
						<label>
							<input type="radio" name="langradios" value="fr"><img src="./assets/img/fr.png">
						</label>
					</div>
        </section>
				<section class="small-list">
					<ul>
						<li>
							This course is for developers who already have a beginner to an intermediate level in JavaScript and who 
							wish to deepen their knowledge of this language to better understand more ambitious JavaScript projects.
						</li>
						<li>
							It is classified as advanced, which means that we will focus more on the technical points of the language 
							and on the study of some advanced programming patterns.
						</li>
						<li>
							The training focuses on the language and is agnostic of any framework or environment, meaning that you 
							will be able to apply these lessons to both front-end (Angular, Vue.js, Ember...) and back-end (Node.js).
						</li>
						<li>
							It is the ideal opportunity to review and consolidate the basics for all those who have learned 
							JavaScript "on the job", or to prepare or complement a training on a modern web framework.
						</li>
					</ul>
				</section>
				<section class="agenda">
					<h2>Agenda</h2>
					<div class="flex-slide">
						<div style="flex-basis: 100%;">
							<h4 class="blue">Introduction</h4>
							<ul class="small-list">
								<li>ECMAScript, TC39 and versions of JavaScript</li>
							</ul>
	
							<h4 class="blue">A reintroduction to JavaScript</h4>
							<ul class="small-list">
								<li>Primitives and Objects</li>
								<li>Property descriptors</li>
								<li>Scopes and Closures</li>
								<li>Functions and contexts</li>
								<li>Implicit casts</li>
							</ul>
						</div>

						<div style="flex-basis: 100%;">
							<h4 class="blue">ES2015 Upgrade</h4>
							<ul class="small-list">
								<li>Arrow functions</li>
								<li>Default parameters</li>
								<li>Spread / Rest</li>
								<li>Destructuring</li>
								<li>Template literals</li>
								<li>Map and Sets</li>
								<li>Modules</li>
							</ul>
	
							<h4 class="blue">Managing asynchrony</h4>
							<ul class="small-list">
								<li>Asynchronous, what is it?</li>
								<li>Callbacks and Publisher/Subscriber model</li>
								<li>Promises</li>
								<li>async / await</li>
								<li>Observables</li>
							</ul>
						</div>

						<div style="flex-basis: 100%;">
							<h4 class="blue">Object oriented</h4>
							<ul class="small-list">
								<li>Prototypes and delegation</li>
								<li>class / super / extends</li>
								<li>Composition of objects</li>
								<li>Symbols, iterables and generators</li>
								<li>Proxies</li>
							</ul>
	
							<h4 class="blue">Functionally oriented</h4>
							<ul class="small-list">
								<li>Recursivity</li>
								<li>Chainable APIs</li>
								<li>Composition of functions</li>
								<li>Curryfication</li>
							</ul>

							<h4 class="blue">Transpilers</h4>
							<ul class="small-list">
								<li>Babel</li>
								<li>TypeScript</li>
								<li>JSX</li>
							</ul>
						</div>
					</div>
				</section>
				<section>
					<section>
						<h2 class="blue">Cheat Sheets</h2>
						<p>It can be useful</p>
					</section>
					<section>
						<h2>String Methods</h2>
						<pre style="font-size: .5em"><code class="javascript hljs" data-trim data-line-numbers>
							"str".charAt(1) === "str"[1] === "t"
							"a".concat("b") === "a" + "b" === "ab"
							"str".startsWith("s") === true
							"str".endsWith("r") === true
							"str".includes("st") === true
							"toto".indexOf("t") === 0
							"toto".lastIndexOf("t") === 2
							"str".search(/t/) === 1
							"str1".match(/r(\d)/) => ["r1", "1"]
							"Hi Bob".replace(/Hi (\w+)/, "Hello $1") => "Hello Bob"
							"string".slice(0,3) === "str"
							"1,2,3".split(",") => ["1","2","3"]
							"STR".toLowerCase() === "str"
							"str".toUpperCase() === "STR"
							"  str  ".trim() == "str"
						</code></pre>
					</section>
					<section>
						<h2>Array Methods</h2>
						<pre style="font-size: .3em"><code class="javascript hljs" data-trim data-line-numbers>
							[1,2].concat([3,4], 5, 6) // [1,2,3,4,5,6]
							[1,2,3].fill(4) // [4,4,4]
							[1,2,3].includes(2) // true
							[1,2,3].indexOf(2) // 1
							[1,2,3].join("-") // "1-2-3"
							[1,2,3,4].slice(1,3) // [2,3]
							
							[1,2,3,4].every((value, index, arr) => n > 2) // false
							[1,2,3,4].some((value, index, arr) => n > 2) // true
							[1,2,3,4].find((value, index, arr) => n > 2) // 3
							[1,2,3,4].findIndex((value, index, arr) => n > 2) // 2
							[1,2,3,4].filter((value, index, arr) => n > 2) // [3,4]
							[1,2,3,4].forEach((value, index, arr) => { ... })
							[1,2,3,4].map((val, index, arr) => val * 2) // [2,4,6,8]
							[1,2,3,4].reduce((accu, n) => accu + n, "test") // "test1234"
							[1,2,3,4].reduceRight((accu, n) => accu + n, "test") // "test4321"
							
							// /!\ Mutative methods, original array is modified!
							let arr = [3,2,1]
							arr.push(4,5) // returns new array.length (5), a = [3,2,1,4,5]
							arr.pop() // returns last item (5), a = [3,2,1,4]
							arr.unshift(6,5) // returns new array.length (6) ; a = [6,5,3,1,2,4]
							arr.shift() // returns first item (6) ; a = [5,3,1,2,4]
							arr.splice(1,2,7,8) // at index 1, remove 2 items, insert (7,8) ; [5,7,8,2,4]
							arr.sort((a,b) => a-b) // [2,4,5,7,8]
							arr.reverse() // [8,7,5,4,2]
						</code></pre>
					</section>
					<section>
						<h2>Map</h2>
						<pre style="font-size: .5em"><code class="javascript hljs" data-trim data-line-numbers>
							let map = new Map([ ['key1', 'val1'], ['key2', 'val2'] ])
							let key = {}, value = {} // any type
							
							map.set(key, value)
							map.get(key) === value
							map.has(key) === true
							map.delete(key);
							map.size === 2
							
							let keys = [...map.keys()]
							let values = [...map.values()]
							let fusionMap = new Map([...map1, ...map2])
							
							for(let [key, val] of map){ }
							map.forEach((val, key, map) => {})
						</code></pre>
					</section>
					<section>
						<h2>Set</h2>
						<pre style="font-size: .5em"><code class="javascript hljs" data-trim data-line-numbers>
							let mySet = new Set([ 1,2,3,4 ])
								▸ Set(4) {1, 2, 3, 4}

							mySet.add("any type")
							map.has(3) === true
							map.delete(3);
							map.size === 4;
							map.clear(); // remove all
							 
							for(let item of mySet){}
							mySet.forEach(item => {})
							let items = [...mySet];
						</code></pre>
					</section>
				</section>
				<section>
					<section>
						<h2 class="blue">Introduction</h2>
						<p>
							Who manages JavaScript? How is the language evolving? <br />
							ECMAScript, TC39 and JavaScript versions
						</p>
					</section>
					<section>
						<h2 class="flex-center blue">ECMAScript <img height="50px" src="assets/img/ecma.jpg"></h2>
						<ul class="small-list">
							<li>
								<b>ECMA International</b> is an organisation that creates standards for technologies
							</li>
							<li>
								<b>ECMAScript</b> is the name of the specification referenced ECMA-262 and describing a general purpose scripting language
							</li>
							<li>
								<b>TC39</b> is the name of the technical committee that decides on developments in the ECMAScript specification. 
								It is composed of delegates from <b>major companies</b> (including all browser providers) and <b>invited experts.</b>
							</li>
							<li>
								<b>JavaScript</b> is a versatile scripting language and the most popular implementation of ECMAScript<br>
								<em>(another popular implementation: ActionScript)</em>
							</li>
						</ul>
					</section>
					<section style="text-align: left;">
						<h2 class="blue">JavaScript Evolutions</h2>
						<p>
							TC39 is considering proposals for ECMAScript developments. Each proposal goes through 5 stages:
						</p>
						<ul class="small-list">
							<li>0:
								<b>Strawman -</b> suggestion of a need, call for ideas
							</li>
							<li>1:
								<b>Proposal -</b> draft solution, first polyfills/demos
							</li>
							<li>2:
								<b>Draft -</b> precisely describes the syntax/API
							</li>
							<li>3:
								<b>Candidate -</b> signed by the whole committee, call for implementations
							</li>
							<li>4:
								<b>Finished -</b> ready to be included in the next version of ES
							</li>
						</ul>
						<div style="text-align: center;">
							<p>TC39 proposals and meetings are public: <a href="https://github.com/tc39">github.com/tc39</a></p>
							<fieldset>
								Any proposal before stage 4 can be dropped completely. <br />
								However, from stage 3 onwards, the level of confidence is quite high.	
							</fieldset>
						</div>
					</section>
					<section>
						<h2 class="blue">Versions of ECMAScript</h2>
						<img src="./assets/img/ecmascript-versions.png" height="150px">
						<p>
							A long delay between initial draft and release implies many browser-specific implementations.
						</p>
						<p>
							TC39 has decided to move to an annual release schedule from ES6, renamed <b>ES2015</b>
						</p>
						<p>
							Since 2015, a new version of the ECMAScript specification is released every year: ES2016, ES2017...
						</p>
					</section>
					<section>
						<h2 class="blue">ECMAScript browser implementation</h2>
						<p>
							As a result of the new annual rhythm:<br />
							<small>an excellent, comprehensive and consistent support across all modern browsers</small>
						</p>
						<div class="flex-center">
							<p style="font-size: .8em;">So-called "<span class="green">evergreen</span>" browsers</p>
							<img height="450px" src="./assets/img/evergreen.png">
						</div>
					</section>
				</section>
				<section>
					<section>
						<h2 class="blue">A reintroduction to JS</h2>
						<p>Exercices 1 to 6</p>
					</section>
					<section style="text-align: left;">
						<h2 class="blue">Exercices</h2>
						<p>
							Slides and exercises available on Github:
							<a href="https://github.com/worldline/JS-Training">https://github.com/worldline/JS-Training</a>
						</p>
						<p>
							Do the exercises from your browser at this address:
							<a href="https://codesandbox.io/s/github/SDCOAdvocates/JS-Training">https://codesandbox.io/s/github/SDCOAdvocates/JS-Training</a>
						</p>
						<img src="./assets/img/Image1.png">
						<p>
							Fork to create your personal version of the working repo. 
							You can publish it on your personal Github account if you have one.
						</p>
						<div class="flex-center">
							<img height="142px" src="./assets/img/Image2.png">
							<img height="142px" src="./assets/img/Image3.png">
							<img height="142px" src="./assets/img/Image4.png">
						</div>
						<p>For each exercise, correct the source to validate the associated test</p>
					</section>
					<section>
						<h2 class="flex-center blue">
							Types and Primitives 
							<span class="title-exo">Exo 1</span>
						</h2>
						<p>JavaScript defines 7 data types:</p>
						<img height="250px" src="./assets/img/Image5.png">
						<p>The <b>typeof</b> operator returns the type of an object, but be careful:</p>
						<pre><code class="javascript hljs" data-trim>
							typeof null === "object" // bug of the 1st version of ES
							typeof function(){} === "function"
						</code></pre>
					</section>
					<section>
						<h2 class="blue">null or undefined</h2>
						<ul class="small-list">
							<li><b>undefined</b> : the variable is declared but not assigned</li>
							<li><b>null</b> : the variable has been assigned to the null reference</li>
						</ul>
						<p>
							<b>null</b> represents the intentional absence of value and often comes from an assignment by the developer
						</p>
						<fieldset>
							Don't assign variables to undefined. Use the delete operator instead:<br>
							<img height="70px" src="./assets/img/Image6.png">
						</fieldset>
					</section>
					<section style="text-align: left;">
						<h2 class="blue">Objects</h2>
						<p>Les fonctions, arrays et dérivés sont tous de type object. Contrairement aux primitives, les objets:</p>
						<ul class="small-list">
							<li>sont comparés par référence</li>
						</ul>
						<pre><code class="javascript hljs" data-trim>
							"test" === "test"
							true
								
							{ item: "test" } === { item: "test" }
							true
						</code></pre>
						<ul class="small-list">
							<li>ont une liste de propriétés qui sont des paires clé-valeur: clé (String, Symbol) ⇔ valeur (any)</li>
						</ul>
						<pre><code class="javascript hljs" data-trim>
							"item" in { item: "test" } === true								
							Symbol.iterator in [1,2,3] === true
						</code></pre>
					</section>
					<section>
						<h2 class="flex-center blue">
							Objects: property browsing
							<span class="title-exo">Exo 2</span>
						</h2>
						<pre style="font-size: 17px"><code class="javascript hljs" data-trim>
							let obj = { a: 1, b: 2 }

							"a" in obj
							true

							for(let key in obj) console.log(key, obj[key])
							a 1
							b 2

							Object.keys(obj)
								▸ (2) ["a", "b"]
							Object.values(obj)
								▸ (2) [1, 2]
							Object.entries(obj)
								▾ (2) [Array(2), Array(2)]
									▸ (2) ["a", 1]
									▸ (2) ["b", 2]
										length: 2
									▸ __proto__: Array(0)
						</code></pre>
					</section>
					<section>
						<h2 class="flex-center blue">
							Objects: property assignment
							<span class="title-exo">Exo 3</span>
						</h2>
						<pre><code class="javascript hljs" data-trim>
							let obj = { key: "value" }
							obj.a = 1;
							obj["b"] = 2;
							Object.assign(obj, { c: 3, d: 4}, {d: 5});
								▸ {key: "value", a: 1, b: 2, c: 3, d: 5}

							Object.fromEntries([ ['a', 1], ['b', 1]]);
								▸ {a: 1, b: 2}
						</code></pre>
						<fieldset>
							<b>Object.assign</b> is very useful for assigning default values 
							or assigning a set of properties in a single statement
						</fieldset>
					</section>
					<section style="text-align: left;">
						<h2 class="blue">Property descriptors</h2>
						<p>Each property contains in addition to its value, a list of intrinsic parameters called <b>descriptors</b>:</p>
						<ul class="small-list">
							<li><b>value:</b> <em>the value of the property</em></li>
							<li><b>enumerable: true</b> <em>if the property is returned by Object.keys or for..in</em></li>
							<li><b>writable: true</b> <em>if the value of the property can be modified</em></li>
							<li><b>configurable: true</b>: <em>if the descriptor can be modified</em></li>
							<li><b>get</b>: <em>optional function to use as getter</em></li>
							<li><b>set</b>: <em>optional function to use as mutator (setter)</em></li>
						</ul>
						<p>A default assignment is enumerable, modifiable and configurable, without specific accessors or mutators</p>
					</section>
					<section>
						<h2 class="flex-center blue">
							Define the descriptors
							<span class="title-exo">Exo 4</span>
						</h2>
						<p>The method <b>Object.defineProperty()</b> allows you to assign a property by specifying its descriptors</p>
						<div class="flex-center">
							<pre><code class="javascript hljs" data-trim>
								const obj = {}

								Object.defineProperty(obj, 'a', {
									value: 1,
									enumerable: true,
									writable: false
								});

								Object.defineProperty(obj, {
									b: { enumerable: true, value: 2 },
									c: { get: function(){ return 3 } },
								});
									
								▸ {a: 1, b: 2}			
							</code></pre>
							<img height="325px" src="./assets/img/Image7.png">
						</div>
					</section>
					<section>
						<h2 class="blue">Getters / Setters</h2>
						<p>Literal declaration for get / set descriptors:</p>
						<pre><code class="javascript hljs" data-trim data-line-numbers>
							const user = {
								name: "Smith",
								first: "John",

								get fullName(){
									return this.first + " " + this.name.toUpperCase()
								},

								set fullName(value){
									this.first = value.split(" ")[0];
									this.name = value.split(" ")[1];
								}
							}
						</code></pre>
					</section>
					<section>
						<h2 class="blue">Own and delegated properties</h2>
						<p>
							The properties assigned to an object are called the <b>own properties</b> of the object. 
							But there are other types of properties, the <b>delegated properties</b>.
						</p>
						<img height="150" src="./assets/img/Image8.png">
						<p>These delegated properties are in fact the properties of the object's prototype (see Object Oriented section)</p>
						<pre><code class="javascript hljs" data-trim>
							obj.toString === Object.prototype.toString
							true
						</code></pre>
					</section>
					<section>
						<h2 class="blue">Scopes</h2>
						<p><b>Scope</b> = perimeter within which variables can be accessed from a given location
							At the highest level, we are in the global scope, accessible everywhere.</p>
						<img height="300" src="./assets/img/Image9.png">
						<p>
							Accessible depuis le scope global <span class="green">(1)</span> : foo<br />
							Accessible depuis le scope de la fonction foo <span class="red">(2)</span>  : foo, a, b, bar<br />
							Accessible depuis le scope de la fonction bar <span class="blue">(3)</span>  : foo, a, b, bar, c<br />
						</p>
					</section>
					<section>
						<h2 class="blue">Block scopes</h2>
						<p>In addition to function scopes, some instructions create so-called <b>block scopes</b></p>
						<p>These are known as <b>block instructions:</b></p>
						<div class="flex-center">
							<pre><code class="javascript hljs" data-trim>
								if(){ ... }
								for(){ ... }
								while(){ ... }
							</code></pre>
							<img height="150" src="./assets/img/Image10.png">
						</div>
						<p>
							A block scope can also be declared with { ... } <br />
							<em>(not to be confused with a literal object declaration)</em>
						</p>
					</section>
					<section>
						<h2 class="blue">var, let or const?</h2>
						<ul class="small-list">
							<li><b>let</b> and <b>const</b> appeared with ES2015</li>
							<li><b>var</b> is no longer in use since</li>
						</ul>
						<div class="flex-slide">
							<img height="250" src="./assets/img/Image11.png">
							<table class="slide-array">
								<thead>
									<tr>
										<th></th>
										<th>Scope</th>
										<th>Re-assignable</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>var</td>
										<td>function</td>
										<td>yes</td>
									</tr>
									<tr>
										<td>let</td>
										<td>block</td>
										<td>yes</td>
									</tr>
									<tr>
										<td>const</td>
										<td>block</td>
										<td>no</td>
									</tr>
								</tbody>
							</table>
						</div>
						<fieldset><u>Recommended:</u> Use <b>const</b>, or <b>let</b> if you need to reassign</fieldset>
					</section>
					<section>
						<h2 class="blue">Closures</h2>
						<p>Scope of a function = local scope + parent scope = local variables + free variables</p>
						<p>
							A function using <b>free variables</b> (defined in a parent scope) creates what is called a <b>closure</b>. 
							A closure must remember its parent scope in order to execute correctly.
						</p>
						<div class="flex-center">
							<aside>
								<fieldset>
									<b>add5</b> <em>retains its parent scope with x=5</em><br><br>
									<em>This link prevents the garbage collector from dereferencing the local variable x at the end of the add</em>
									<br><br>
									<b>add5</b> <em>crée donc une closure</em>
								</fieldset>
								<fieldset>
									Unintentional closures are the most common source of <b>memory leaks</b> problems in web applications.
								</fieldset>
							</aside>
							<pre><code class="javascript hljs" data-trim>
								function add(x) {
									return function(y) {
										return x + y;
									}
								}

								var add5 = add(5);
								add5(8)
								▸ 13
							</code></pre>
						</div>
					</section>
				</section>
			</div>
		</div>
	</body>

	<script src="./assets/plugin/notes/notes.js"></script>
	<script src="./assets/plugin/markdown/markdown.js"></script>
	<script src="./assets/plugin/highlight/highlight.js"></script>
	<script src="./assets/plugin/internation/internation.js"></script>
	<script type="module" src="./main.js"></script>
</html>